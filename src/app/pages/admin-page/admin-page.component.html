<form [formGroup]="userForm">
    <div formArrayName="users">
        <div *ngFor="let person of users.controls; let i = index" [formGroupName]="i">
            <label>CNP</label>
            <input formControlName="cnp">

            <label>Name</label>
            <input formControlName="name">

            <label>Position</label>
            <div>
                <input type="radio" formControlName="position" value="student"> Student
                <input type="radio" formControlName="position" value="teacher"> Teacher
            </div>

            <div *ngIf="person.get('position')?.value === 'teacher'">
                <label>Subject</label>
                <select formControlName="subject">
                    <!-- Populate options based on your requirements -->
                    <option value="math">Math</option>
                    <option value="science">Science</option>
                    <option value="history">History</option>
                </select>
            </div>
        </div>
    </div>
    <button type="button" (click)="addStudent()">Add User</button>
</form>
